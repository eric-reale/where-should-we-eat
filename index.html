<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Where Should We Eat?</title>
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Raleway:300,400,600&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="./src/css/base.css">
</head>
 <body onload="init()">
    <center>
      <div>
        <h1 class="shotterudTitle">Where should we eat?</h1>
        <h2> LET'S FIND OUT</h2>
      </div>
    </center>

    <div class="rouletteContainer">
      <div class="line">
      </div>
      <div id="fillMeUpDaddy" class="roulette">
      </div>
    </div>

    <br><br><br><br><br><br><br><br>

    <center>
      <div>
        <button id="startButton" onclick="play()">Roll</button>
      </div>
    </center>

    <br><br>

    <div>
    </div>
    <div id="winners" class="winners">
    </div>

    <br><br>

  </body>
  <script>
    const amountOfBoxes = 300; // update so that it's even distribution of chances rather than random up to 100
    var order = [];

    var colors= ['#FFFFFF', '#000000'];
    var width = 80;
    var bets =  [["player1", "#FFFFFF"],
        ["player2", "#DDD000"]];

    function init(){
      let roulette = document.getElementById("fillMeUpDaddy");
      roulette.innerHTML = "";

      for(let i = 0; i < amountOfBoxes; i++){
          var randomPlayer = rand(0, bets.length)
          var node = document.createElement("div");
          var h3 = document.createElement("h3");
          h3.innerHTML = bets[randomPlayer][0];
          h3.style.backgroundColor = bets[randomPlayer][1];
          node.appendChild(h3);
          roulette.appendChild(node);
        }
    }

    function rand (min, max) {
        return Math.floor(Math.random() * (max - min)) + min;
    }

    function play () {
      //add sound if you want
      //var audio = new Audio('spin.mp3');
      //audio.play();
      var offset = rand(300, amountOfBoxes*140-180)+180;
      document.getElementById("fillMeUpDaddy").style.left = -(offset-180) + "px";

      let chosenPlayer = document.createElement("div");
      console.log(bets)
      chosenPlayer.style.backgroundColor = bets[order[parseInt(offset/140)]][1];
      chosenPlayer.innerHTML = bets[order[parseInt(offset/140)]][0];
      setTimeout(function(){
        console.log(chosenPlayer)
        document.getElementById("winners").appendChild(chosenPlayer);
        document.getElementById("fillMeUpDaddy").style.transitionDuration = "0s";
        document.getElementById("fillMeUpDaddy").style.left = "0px";
        setTimeout(function(){
          document.getElementById("fillMeUpDaddy").style.transitionDuration = "5s";
        }, 50)
        }, 5500)
    }

    // document.getElementById("max").addEventListener("keyup", function(event){
    //   if(event.keyCode == 13){
    //     addTimer();
    //   }
    // })
  </script>

  <script src="./src/index.js"></script>
</html>



